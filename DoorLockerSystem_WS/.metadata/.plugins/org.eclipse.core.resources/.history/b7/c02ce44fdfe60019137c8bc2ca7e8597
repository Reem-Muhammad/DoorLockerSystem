/*
 * Ocu.c
 *
 *  Created on: 4 Oct 2019
 *      Author: Home
 */

#include "Ocu.h"

/*Global pointer to the configuration set, so it is accessible by other functions*/
const Ocu_ConfigType *g_Ocu_ConfigPtr;

/*-------------------------------------------------------------
 * [Function Name]: Ocu_Init
 * [Description]: initializes the output compare unit
 * [Args]:
 * 		ConfigPtr: pointer to the configuration set
 * [Return]: None
 --------------------------------------------------------------*/
void Ocu_Init(const Ocu_ConfigType *ConfigPtr)
{
	g_Ocu_ConfigPtr = ConfigPtr;

	/*the counter starts from 0*/
	TCNT1 = 0;
}

/*-------------------------------------------------------------
 * [Function Name]: Ocu_DeInit
 * [Description]: De-initializes the output compare unit
 * [Args]: None
 * [Return]: None
 --------------------------------------------------------------*/
void Ocu_DeInit(void)
{

}

/*-------------------------------------------------------------
 * [Function Name]: Ocu_SetPinAction
 * [Description]: sets the action to be performed by hardware automatically, at the next compare match in the corresponding OCU channel
 * [Args]:
 * 		ChannelNumber: Numeric identifier of the OCU channel
 * 		PinAction: behavior on compare match
 * [Return]: None
 --------------------------------------------------------------*/
void Ocu_SetPinAction(Ocu_ChannelType ChannelNumber, Ocu_PinActionType PinAction)
{

}

/*-------------------------------------------------------------
 * [Function Name]: Ocu_SetAbsoluteThreshold
 * [Description]: sets the compare value for the specified channel
 * [Args]:
 * 		ChannelNumber: Numeric identifier of the OCU channel
 * 		AbsoluteValue: Value to compare with the content of the counter
 * [Return]: None
 --------------------------------------------------------------*/
void Ocu_SetAbsoluteThreshold( Ocu_ChannelType ChannelNumber, Ocu_ValueType AbsoluteValue)
{

}

/*-------------------------------------------------------------
 * [Function Name]: Ocu_Notification_0
 * [Description]: notification function that is called when a compare match occurs on channel 1A
 * [Args]: None
 * [Return]: None
 --------------------------------------------------------------*/
void Ocu_Notification_0(void)
{

}


/*-------------------------------------------------------------
 * [Function Name]: Ocu_Notification_1
 * [Description]: notification function that is called when a compare match occurs on channel 1B
 * [Args]: None
 * [Return]: None
 --------------------------------------------------------------*/
void Ocu_Notification_1(void)
{

}



/*~~~~~~~~~~~~~~~~~~~ ISR ~~~~~~~~~~~~~~~~~~~~~*/
IST(TIMER1_COMPA_vect)
{
	tick++;
	if(tick == )
	{
		if(g_Ocu_ConfigPtr->Ocu_NotificationPtr != NULL_PTR)
		{
			g_Ocu_ConfigPtr->Ocu_NotificationPtr();
		}
		tick = 0;
	}
}


IST(TIMER1_COMPB_vect)
{
	tick++;
	if(tick == )
	{
		if(g_Ocu_ConfigPtr->Ocu_NotificationPtr != NULL_PTR)
		{
			g_Ocu_ConfigPtr->Ocu_NotificationPtr();
		}
		tick = 0;
	}
}
